(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{558:function(v,_,t){"use strict";t.r(_);var e=t(4),o=Object(e.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[v._v("#")]),v._v(" 概述")]),v._v(" "),t("blockquote",[t("p",[t("strong",[v._v("变量查找通过作用域，this查找通过调用")])]),v._v(" "),t("p",[v._v("作用域与this无必然联系。")])]),v._v(" "),t("h1",{attrs:{id:"作用域与作用域链"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#作用域与作用域链"}},[v._v("#")]),v._v(" 作用域与作用域链")]),v._v(" "),t("p",[v._v("全局作用域")]),v._v(" "),t("p",[v._v("函数作用域")]),v._v(" "),t("p",[v._v("块级作用域")]),v._v(" "),t("blockquote",[t("p",[v._v("JavaScript 是词法作用域，也就是说，"),t("code",[v._v("函数的作用域在函数定义的时候就决定了")])])]),v._v(" "),t("p",[v._v("查找值")]),v._v(" "),t("h1",{attrs:{id:"this"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#this"}},[v._v("#")]),v._v(" this")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("严格模式及不同环境下（node →global，浏览器→window）")])]),v._v(" "),t("li",[t("p",[v._v("隐式绑定（this绑定到对象上）")]),v._v(" "),t("p",[v._v("隐式丢失")]),v._v(" "),t("ul",[t("li",[v._v("使用另一个变量来给函数取别名")]),v._v(" "),t("li",[v._v("将函数作为参数传递时会被隐式赋值，回调函数丢失this绑定")])])]),v._v(" "),t("li",[t("p",[v._v("显示绑定（apply，call，bind）")])]),v._v(" "),t("li",[t("p",[v._v("new构造函数")])])]),v._v(" "),t("blockquote",[t("p",[t("code",[v._v("this")]),v._v(" 永远指向最后调用它的那个对象")]),v._v(" "),t("p",[v._v("匿名函数的"),t("code",[v._v("this")]),v._v("永远指向"),t("code",[v._v("window")])]),v._v(" "),t("p",[v._v("使用"),t("code",[v._v(".call()")]),v._v("或者"),t("code",[v._v(".apply()")]),v._v("的函数是会直接执行的，"),t("code",[v._v("bind()")]),v._v("是创建一个新的函数，需要手动调用才会执行")]),v._v(" "),t("p",[v._v("如果"),t("code",[v._v("call、apply、bind")]),v._v("接收到的第一个参数是空或者"),t("code",[v._v("null、undefined")]),v._v("的话，则会忽略这个参数")]),v._v(" "),t("p",[t("code",[v._v("forEach、map、filter")]),v._v("函数的第二个参数也是能显式绑定"),t("code",[v._v("this")]),v._v("的")])]),v._v(" "),t("ul",[t("li",[v._v("箭头函数 (无this，需查找作用域链)")])]),v._v(" "),t("blockquote",[t("ul",[t("li",[v._v("它里面的"),t("code",[v._v("this")]),v._v("是由外层作用域来决定的，且指向函数定义时的"),t("code",[v._v("this")]),v._v("而非执行时")]),v._v(" "),t("li",[v._v("字面量创建的对象，作用域是"),t("code",[v._v("window")]),v._v("，如果里面有箭头函数属性的话，"),t("code",[v._v("this")]),v._v("指向的是"),t("code",[v._v("window")])]),v._v(" "),t("li",[v._v("构造函数创建的对象，作用域是可以理解为是这个构造函数，且这个构造函数的"),t("code",[v._v("this")]),v._v("是指向新建的对象的，因此"),t("code",[v._v("this")]),v._v("指向这个对象。")]),v._v(" "),t("li",[v._v("箭头函数的"),t("code",[v._v("this")]),v._v("是无法通过"),t("code",[v._v("bind、call、apply")]),v._v("来"),t("strong",[v._v("直接")]),v._v("修改，但是可以通过改变作用域中"),t("code",[v._v("this")]),v._v("的指向来间接修改。")])]),v._v(" "),t("p",[v._v("⚠️箭头函数，避免在"),t("code",[v._v("对象、原型、构造函数、回调函数")]),v._v("中使用（this）。")])]),v._v(" "),t("h2",{attrs:{id:"this总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#this总结"}},[v._v("#")]),v._v(" this总结")]),v._v(" "),t("blockquote",[t("p",[t("code",[v._v("this")]),v._v(" "),t("code",[v._v("运行时绑定")]),v._v("。this"),t("code",[v._v("的上下文基于")]),v._v("函数调用`的情况。和函数在哪定义无关，而和函数怎么调用有关。")]),v._v(" "),t("p",[t("code",[v._v("fun(),匿名函数，全局函数setTimeout等 —— window")])]),v._v(" "),t("p",[t("code",[v._v("obj.fun() —— obj")])]),v._v(" "),t("p",[t("code",[v._v("fun.call(obj)/apply、bind——obj")])]),v._v(" "),t("p",[t("code",[v._v("构造函数 —— 实例")])]),v._v(" "),t("p",[v._v("特例"),t("code",[v._v("箭头函数 —— 外层作用域，call/apply/bind无效")])])]),v._v(" "),t("h1",{attrs:{id:"settimeout"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#settimeout"}},[v._v("#")]),v._v(" setTimeout")]),v._v(" "),t("blockquote",[t("p",[v._v("setTimeout 调用为window，this指向window，变量查找时 正常函数调用时沿着定义时的作用域向上查找的。")])]),v._v(" "),t("h1",{attrs:{id:"练习及参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#练习及参考"}},[v._v("#")]),v._v(" "),t("a",{attrs:{href:"https://juejin.im/post/5e6358256fb9a07cd80f2e70#heading-9",target:"_blank",rel:"noopener noreferrer"}},[v._v("练习及参考"),t("OutboundLink")],1)])])}),[],!1,null,null,null);_.default=o.exports}}]);